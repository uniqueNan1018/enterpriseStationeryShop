<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="./css/default.css">
    <script src="./js/vue.min.js"></script>
    <title>届け先変更</title>
</head>
<body>
    <header class="common-header">
        <p class="main-title">ガセール ～ガセ商店　法人通販サイト～</p>
        <div class="sub-wrapper">
            <div>(株)XXXX ○○部　日本　太郎　様、こんにちは！&nbsp;&nbsp;&nbsp;
                <a href="#" class="log-off">ログオフ</a>
            </div>
            <div class="opt-wrapper">
                <a href="#" onclick="location.href='uw05_01.html'"><img class="cart-icon" src="./img/writecart_icon.png" />カート</a>&nbsp;&nbsp;&nbsp;
                <a href="#">注文履歴</a>
            </div>
        </div>
    </header>
    <main class="shop-main-container" id="app">
        <nav>
            <span><a href="uw04_01.html">商品検索</a></span>
            <span>></span>
            <span><a href="uw05_01.html">カート</a></span>
            <span>></span>
            <span><a href="uw07_01.html">後払い注文確認</a></span>
            <span>></span>
            <span>届け先変更</span>
        </nav>
        <section>
            <form action="">
                <div class="input-item">
                    <label>郵便番号</label>
                    <input type="text" placeholder="入力してください" v-model="infos.postCode"/>
                </div>
                <div class="input-item">
                    <label>住所</label>
                    <textarea name="" id="" cols="50" rows="3" v-model="infos.address"></textarea>
                </div>
                <div class="input-item">
                    <label>会社名</label>
                    <input type="text" placeholder="入力してください" v-model="infos.companyName"/>
                </div>
                <div class="input-item">
                    <label>部署</label>
                    <input type="text" placeholder="入力してください" v-model="infos.division" />
                </div>
                <div class="input-item">
                    <label>受取人氏名</label>
                    <input type="text" placeholder="入力してください" v-model="infos.recipient" />
                </div>
                <div class="input-item">
                    <label>電話番号</label>
                    <input type="text" placeholder="入力してください" v-model="infos.tel" />
                </div>
                <div class="btns-container btns-container-left">
                    <input type="button" value="変更する" class="register-btn" v-on:click="onSubmit">
                </div>
            </form>
        </section>
    </main>
    <footer class="common-footer">
        <small>
            &copy; 2023 ガセール ～ガセ商店　法人通販サイト
        </small>
    </footer>
</body>
<script>
    new Vue({
        el: "#app",
        data() {
            return {
                infos: {
                    postCode: "1698522",
                    address: "東京都新宿区百人町１－２５－４",
                    companyName: "日電株式会社",
                    division: "総務部",
                    recipient: "田中　慎吾",
                    tel: "03 0000 0000"
                },
            }
        },
        methods: {
            onSubmit() {
                const valids = [{
                    key: "postCode",
                    name: "郵便番号",
                }, {
                    key: "address",
                    name: "住所",
                }, {
                    key: "companyName",
                    name: "会社名",
                }, {
                    key: "division",
                    name: "部署",
                }, {
                    key: "recipient",
                    name: "受取人氏名",
                }, {
                    key: "tel",
                    name: "電話番号",
                }];
                let flag = true;
                const errorMsgAry = [];
                valids.forEach(({ key , name}) => {
                    if (this.infos[key].trim() == "") {
                        flag = false;
                        errorMsgAry.push(name);
                    }
                });
                if (errorMsgAry.length) {
                    let errorMsg = errorMsgAry.join("、");
                    errorMsg += "を入力してください！";
                    alert(errorMsg);
                }
                if (flag) {
                    alert("届け先を変更しました");
                    location.href = "uw07_01.html";
                }
            }
        }
    })
</script>
</html>